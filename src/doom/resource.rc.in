#include <Winver.h>
#include <git_info.h>

#if GIT_IS_RELEASE
#define FFLAGS 0
#else
#define FFLAGS (VS_FF_PRERELEASE|VS_FF_PATCHED)
#endif

1 ICON "@CMAKE_CURRENT_SOURCE_DIR@/data/icons/doom.ico"

CREATEPROCESS_MANIFEST_RESOURCE_ID RT_MANIFEST "@CMAKE_CURRENT_SOURCE_DIR@/src/manifest.xml"

VS_VERSION_INFO VERSIONINFO
PRODUCTVERSION @WINDOWS_RC_VERSION@
FILEVERSION @WINDOWS_RC_VERSION@
FILETYPE VFT_APP
FILEOS VOS_NT_WINDOWS32
FILEFLAGSMASK VS_FFI_FILEFLAGSMASK
FILEFLAGS FFLAGS
{
 BLOCK "StringFileInfo"
 {
  BLOCK "040904E4"
  {
     VALUE "ProductName", "@PACKAGE_PREFIX@ Doom"
     VALUE "ProductVersion", "@PROJECT_VERSION@" GIT_VERSION_SUFFIX
     VALUE "FileVersion", "@PROJECT_VERSION@" GIT_VERSION_SUFFIX
     VALUE "FileDescription", "@PACKAGE_PREFIX@ Doom @PROJECT_VERSION@" GIT_VERSION_SUFFIX
     VALUE "LegalCopyright", "@PACKAGE_COPYRIGHT@"
  }
 }
 BLOCK "VarFileInfo"
 {
  VALUE "Translation", 0x0409, 1252, 0x0419, 1251
 }
}

